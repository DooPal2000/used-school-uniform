<% layout('layouts/boilerplate')%>
    <div class="container d-flex justify-content-center align-items-center mt-3">
        <div class="row">
            <div class="col-md-6 offset-md-3 col-xl-4 offset-xl-4  mb-3">
                <div class="card shadow">
                    <img src="https://images.unsplash.com/photo-1520453803296-c39eabe2dab4?q=80&w=1725&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
                        alt="" class="card-img-top" />
                    <div class="card-body">
                        <h3 class="card-title">관리자 회원가입</h3>
                        <form action="/register/admin" method="POST" class="validated-form" novalidate>
                            <div class="mb-3">
                                <label class="form-label" for="phonenum">핸드폰 번호( - 하이픈 없이 번호만 입력 )</label>
                                <input class="form-control" type="text" id="phonenum" name="phonenum" required>
                                <div class="valid-feedback">
                                    Looks good!
                                </div>
                            </div>
                            <div class="mb-3">
                                <label class="form-label" for="password">비밀번호</label>
                                <input class="form-control" type="password" id="password" name="password" required>
                                <div class="valid-feedback">
                                    Looks good!
                                </div>
                            </div>
                            <button class="btn btn-success">회원가입</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        const phoneInput = document.getElementById('phonenum');

        phoneInput.addEventListener('input', function (e) {
            let x = e.target.value.replace(/\D/g, '').match(/(\d{0,3})(\d{0,4})(\d{0,4})/);
            e.target.value = !x[2] ? x[1] : '010-' + x[2] + (x[3] ? '-' + x[3] : '');
        });

        // 폼 제출 시 하이픈 제거
        document.querySelector('form').addEventListener('submit', function (e) {
            phoneInput.value = phoneInput.value.replace(/-/g, '');
        });
    </script>